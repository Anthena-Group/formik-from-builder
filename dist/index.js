"use strict";Object.defineProperty(exports, "__esModule", {value: true}); function _interopRequireWildcard(obj) { if (obj && obj.__esModule) { return obj; } else { var newObj = {}; if (obj != null) { for (var key in obj) { if (Object.prototype.hasOwnProperty.call(obj, key)) { newObj[key] = obj[key]; } } } newObj.default = obj; return newObj; } } function _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }var w=Object.defineProperty,O=Object.defineProperties;var V=Object.getOwnPropertyDescriptors;var f=Object.getOwnPropertySymbols;var b=Object.prototype.hasOwnProperty,C=Object.prototype.propertyIsEnumerable;var T=(o,r,t)=>r in o?w(o,r,{enumerable:!0,configurable:!0,writable:!0,value:t}):o[r]=t,m=(o,r)=>{for(var t in r||(r={}))b.call(r,t)&&T(o,t,r[t]);if(f)for(var t of f(r))C.call(r,t)&&T(o,t,r[t]);return o},p=(o,r)=>O(o,V(r));var d=(o,r)=>{var t={};for(var e in o)b.call(o,e)&&r.indexOf(e)<0&&(t[e]=o[e]);if(o!=null&&f)for(var e of f(o))r.indexOf(e)<0&&C.call(o,e)&&(t[e]=o[e]);return t};var _react = require('react'); var _react2 = _interopRequireDefault(_react);var _TextField = require('@mui/material/TextField'); var _TextField2 = _interopRequireDefault(_TextField);var _formik = require('formik');var k=t=>{var e=t,{name:o}=e,r=d(e,["name"]);let[a,i]=_formik.useField.call(void 0, o);return _react2.default.createElement(_TextField2.default,p(m(m({},a),r),{error:!!(i.touched&&i.error),helperText:i.touched&&i.error?i.error:void 0}))};var y=t=>{var e=t,{name:o}=e,r=d(e,["name"]);let[a,i]=_formik.useField.call(void 0, o);return _react2.default.createElement(_TextField2.default,p(m(m({multiline:!0},a),r),{error:!!(i.touched&&i.error),helperText:i.touched&&i.error?i.error:void 0}))};var _material = require('@mui/material');var L=a=>{var i=a,{name:o,groupLabel:r,options:t}=i,e=d(i,["name","groupLabel","options"]);let[l,n,s]=_formik.useField.call(void 0, o),B=u=>{let{value:v,checked:E}=u.target,H=E?[...l.value,v]:l.value.filter(M=>M!==v);s.setValue(H)};return _react2.default.createElement(_material.FormControl,{component:"fieldset",error:!!(n.touched&&n.error)},_react2.default.createElement(_material.FormLabel,{component:"legend"},r),_react2.default.createElement(_material.FormGroup,null,t==null?void 0:t.map(u=>_react2.default.createElement(_material.FormControlLabel,{key:u.value,control:_react2.default.createElement(_material.Checkbox,p(m({},e),{value:u.value,checked:l.value.includes(u.value),onChange:B})),label:u.label}))),n.touched&&n.error?_react2.default.createElement(_material.FormHelperText,null,n.error):null)};var P=a=>{var i=a,{name:o,groupLabel:r,options:t}=i,e=d(i,["name","groupLabel","options"]);let[l,n]=_formik.useField.call(void 0, o);return _react2.default.createElement(_material.FormControl,{component:"fieldset",error:!!(n.touched&&n.error)},_react2.default.createElement(_material.FormLabel,{component:"legend"},r),_react2.default.createElement(_material.RadioGroup,{"aria-labelledby":"radio-buttons-group-label",name:o,value:l.value,onChange:l.onChange},t.map(s=>_react2.default.createElement(_material.FormControlLabel,{key:s.value,value:s.value,control:_react2.default.createElement(_material.Radio,m({},e)),label:s.label}))),n.touched&&n.error?_react2.default.createElement(_material.FormHelperText,null,n.error):null)};var g=(l=>(l.TEXT="text",l.MULTI_TEXT="multi-text",l.CHECKBOX="checkbox",l.RADIO="radio",l.DROPDOWN="dropdown",l.DATE="date",l))(g||{});var _yup = require('yup'); var h = _interopRequireWildcard(_yup);var We=o=>{let r={},t={};return o.forEach(e=>{var i,l,n,s;let a;switch(e.type){case"checkbox":a=h.array();break;default:a=h.string();break}(i=e.validation)!=null&&i.required&&(a=a.required(e.validation.message||"This field is required")),(l=e.validation)!=null&&l.minLength&&(a=a.min(e.validation.minLength,e.validation.message||`Minimum length is ${e.validation.minLength}`)),(n=e.validation)!=null&&n.maxLength&&(a=a.max(e.validation.maxLength,e.validation.message||`Maximum length is ${e.validation.maxLength}`)),(s=e.validation)!=null&&s.pattern&&(a=a.matches(e.validation.pattern,e.validation.message||"Invalid format")),r[e.field]=a,t[e.field]=e.initialValue}),{yupSchemaValidation:h.object().shape(r),initailValues:t}};var ee=(o,r,t)=>{let e=`${r.field}`,a=`${o}-${r.field}-${t}`;switch(r.type){case"text":return _react2.default.createElement(k,m({key:a,name:e,label:r.label},r.muiProps));case"checkbox":return _react2.default.createElement(L,p(m({key:a,name:e,options:r.options},r.muiProps),{groupLabel:r.groupLabel}));case"radio":return _react2.default.createElement(P,p(m({key:a,name:e,groupLabel:r.groupLabel},r.muiProps),{options:r.options}));case"multi-text":return _react2.default.createElement(y,m({key:a,name:e,label:r.label},r.muiProps));default:return null}},tr= exports.FormBuilder =({group:o,fields:r,"data-test":t})=>_react2.default.createElement("div",{"data-test":t},r.map((e,a)=>ee(o,e,a)));exports.FieldCheckBox = L; exports.FieldMultiText = y; exports.FieldRadio = P; exports.FieldText = k; exports.FormBuilder = tr; exports.InputTypes = g; exports.useFormBuilder = We;
//# sourceMappingURL=index.js.map